# # configs/bart.yaml
# model:
#   name: "facebook/bart-large-cnn"
# data:
#   max_input_length: 1024
#   max_output_length: 142
#   batch_size: 4
#   num_workers: 4
#   sample_ratio: 1.0
#   remove_stopwords: false
# training:
#   epochs: 3
#   lr: 3e-05
#   warmup_steps: 500
#   weight_decay: 0.01
#   fp16: false
#   log_interval: 100
#   seed: 42
# generation:
#   num_beams: 4
#   length_penalty: 1.0
# output:
#   output_dir: "outputs/bart"
# ddp:
#   backend: "nccl"
#   init_method: "env://"
#   world_size: 1

# configs/bart.yaml
model:
  name: "facebook/bart-large-cnn"

data:
  dataset_name: "alexfabbri/multi_news"
  max_input_length: 1024
  max_output_length: 142    # match BART‚ÄêCNN default
  batch_size: 4
  num_workers: 4
  sample_ratio: 1.0
  remove_stopwords: false

training:
  epochs: 3
  lr: 3e-05
  warmup_steps: 500
  weight_decay: 0.01
  fp16: false
  log_interval: 100
  seed: 42

generation:
  num_beams: 4
  length_penalty: 2.0      # from generation_config.json
  min_length: 5
  no_repeat_ngram_size: 2
  early_stopping: true

output:
  output_dir: "outputs/bart"

ddp:
  backend: "nccl"
  init_method: "env://"
  world_size: 1
